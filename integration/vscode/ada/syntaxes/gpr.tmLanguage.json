{
	 "$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	 "name": "gpr",
	 "patterns": [
		  { "include": "#project" },
		  { "include": "#comment" }
	 ],
	 "repository": {
		  "attribute": {
				"name": "meta.attribute.gpr",
				"begin": "(?i)\\b(for)\\s+((?:\\w|_)+)(?:\\s*\\((.*)\\))?\\s+(use)\\b",
				"end": ";",
				"beginCaptures": {
					"1": { "name": "keyword.gpr" },
					"2": { "name": "entity.other.attribute-name.gpr" },
					"3": { "name": "string.quoted.gpr" },
					"4": { "name": "keyword.gpr" }
				},
				"endCaptures": {
					"0": { "name": "punctuation.gpr" }
				},
				"patterns": [
					{
						"name": "string.quoted.gpr",
						"match": "\"(\\\\.|[^\"])*\""
					}
				]
		  },
		  "comment": {
				"patterns": [
					 {
						  "name": "comment.line.double-dash.gpr",
						  "match": "--[^-]+--\\s*$",
						  "captures": {
								"0": {
									 "patterns": [
										  {
												"name": "entity.name.section.gpr",
												"match": "\\b(\\w|\\s|_)*\\b"
										  }
									 ]
								}
						  }
					 },
					 {
						  "name": "comment.line.double-dash.gpr",
						  "match": "--.*$"
					 }
				]
		  },
		  "package": {
				"name": "meta.package.gpr",
				"begin": "(?i)\\b(package)\\s+((?:\\w|\\d|_)+)\\s+(is)\\b",
				"end": "(?i)\\b(end)\\s+(\\2)\\s*(;)",
				"beginCaptures": {
					"1": { "name": "keyword.gpr" },
					"2": { "name": "entity.name.package.gpr" },
					"3": { "name": "keyword.gpr" }
				},
				"endCaptures": {
					"1": { "name": "keyword.gpr" },
					"2": { "name": "entity.name.package.gpr" },
					"3": { "name": "punctuation.gpr" }
				},
				"patterns": [
					{ "include": "#comment" },
					{ "include": "#attribute" }
				]
		  },
		  "project": {
				"name": "meta.project.gpr",
				"begin": "(?i)\\b(?:(abstract|aggregate|library)\\s+)?(project)\\s+((?:\\w|\\d|_)+)\\s+(is)\\b",
				"end": "(?i)\\b(end)\\s+(\\3)\\s*(;)",
				"beginCaptures": {
					"1": { "name": "keyword.gpr" },
					"2": { "name": "keyword.gpr" },
					"3": { "name": "entity.name.project.gpr" },
					"4": { "name": "keyword.gpr" }
				},
				"endCaptures": {
					"1": { "name": "keyword.gpr" },
					"3": { "name": "punctuation.gpr" }
				},
				"patterns": [
					{ "include": "#package" },
					{ "include": "#comment" },
					{ "include": "#attribute" }
				]
		  }
	 },
	 "scopeName": "source.gpr"
}
